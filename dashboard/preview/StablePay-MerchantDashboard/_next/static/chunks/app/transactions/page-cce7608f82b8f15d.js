(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{71019:function(e,t,s){Promise.resolve().then(s.bind(s,20641))},20641:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var r=s(57437),a=s(2265),n=s(79205);let i=(0,n.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),o=(0,n.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),d=(0,n.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),l=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),c=(0,n.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),x=(0,n.Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m=(0,n.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var u=s(32489),p=s(62869),h=s(95186),g=s(35974),f=s(71622),b=s(94508);function v(e){let{...t}=e;return(0,r.jsx)(f.fC,{"data-slot":"dialog",...t})}function j(e){let{...t}=e;return(0,r.jsx)(f.h_,{"data-slot":"dialog-portal",...t})}function N(e){let{className:t,...s}=e;return(0,r.jsx)(f.aV,{"data-slot":"dialog-overlay",className:(0,b.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function y(e){let{className:t,children:s,showCloseButton:a=!0,...n}=e;return(0,r.jsxs)(j,{"data-slot":"dialog-portal",children:[(0,r.jsx)(N,{}),(0,r.jsxs)(f.VY,{"data-slot":"dialog-content",className:(0,b.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[s,a&&(0,r.jsxs)(f.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(u.Z,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function w(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,b.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function k(e){let{className:t,...s}=e;return(0,r.jsx)(f.Dx,{"data-slot":"dialog-title",className:(0,b.cn)("text-lg leading-none font-semibold",t),...s})}var S=s(19044),C=s(634),z=s(95087);let T=e=>"".concat(e.slice(0,6),"...").concat(e.slice(-4)),I=e=>{let t=parseFloat(e);return t>100?"high":t>50?"medium":"low"};function A(){let{transactions:e,loading:t,error:s,hasFetched:n,fetchTransactions:f,clearCache:b}=(0,z.n)(),[j,N]=(0,a.useState)(null),[A,E]=(0,a.useState)(!1),M=e=>{N(e),E(!0)};return(0,r.jsx)(S.Z,{header:{title:"Transactions",description:"Manage and monitor payment operations",icon:C.Z},children:(0,r.jsxs)("div",{className:"flex flex-col h-full min-h-screen",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-8 py-4 border-b border-border/40",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"StablePay"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,r.jsx)("span",{className:"text-primary",children:"TRANSACTIONS"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:["LAST UPDATE:"," ",new Date().toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"UTC"})," ","UTC"]}),(0,r.jsx)(p.z,{variant:"ghost",size:"icon",className:"size-8",children:(0,r.jsx)(i,{className:"size-4"})}),(0,r.jsx)(p.z,{variant:"ghost",size:"icon",className:"size-8",children:(0,r.jsx)(o,{className:"size-4"})})]})]}),(0,r.jsxs)("div",{className:"flex-1 px-8 py-8 overflow-auto",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-serif mb-2",children:"Transaction Network"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage and monitor payment operations"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)(p.z,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,r.jsx)(d,{className:"size-4 mr-2"}),"Filter"]}),n?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(p.z,{variant:"secondary",onClick:f,disabled:t,children:[(0,r.jsx)(o,{className:"size-4 mr-2 ".concat(t?"animate-spin":"")}),t?"Loading...":"Refresh Data"]}),(0,r.jsx)(p.z,{variant:"outline",onClick:b,className:"text-xs",children:"Clear Cache"})]}):(0,r.jsxs)(p.z,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:f,disabled:t,children:[(0,r.jsx)(o,{className:"size-4 mr-2 ".concat(t?"animate-spin":"")}),t?"Loading...":"See Transactions"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,r.jsx)("div",{className:"bg-card border border-border/40 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),(0,r.jsx)(h.I,{placeholder:"Search transactions",className:"pl-10 bg-background/50 border-border/40"})]})}),(0,r.jsx)("div",{className:"bg-card border border-border/40 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"TOTAL TRANSACTIONS"}),(0,r.jsx)("div",{className:"text-4xl font-bold",children:t?"...":e.length})]}),(0,r.jsx)(c,{className:"size-8 text-foreground"})]})}),(0,r.jsx)("div",{className:"bg-card border border-border/40 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"FAILED"}),(0,r.jsx)("div",{className:"text-4xl font-bold text-red-500",children:"0"})]}),(0,r.jsx)(c,{className:"size-8 text-red-500"})]})}),(0,r.jsx)("div",{className:"bg-card border border-border/40 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"PENDING"}),(0,r.jsx)("div",{className:"text-4xl font-bold text-primary",children:"0"})]}),(0,r.jsx)(c,{className:"size-8 text-primary"})]})})]}),(0,r.jsxs)("div",{className:"bg-card border border-border/40 rounded-lg overflow-hidden flex-1 flex flex-col",children:[(0,r.jsx)("div",{className:"p-6 border-b border-border/40",children:(0,r.jsx)("h2",{className:"text-xl font-serif",children:"TRANSACTION ROSTER"})}),(0,r.jsx)("div",{className:"overflow-x-auto flex-1",children:(0,r.jsxs)("table",{className:"w-full min-w-full h-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-border/40",children:[(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-32",children:"TRANSACTION ID"}),(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-40",children:"BUYER"}),(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-40",children:"RECEIVER"}),(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-24",children:"STATUS"}),(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-32",children:"BLOCK"}),(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-24",children:"AMOUNT SC"}),(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-24",children:"RISK"}),(0,r.jsx)("th",{className:"text-left px-6 py-4 text-sm font-medium text-muted-foreground w-20",children:"ACTIONS"})]})}),(0,r.jsxs)("tbody",{children:[t?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:8,className:"px-6 py-8 text-center text-muted-foreground",children:"Loading transactions from blockchain..."})}):s?(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{colSpan:8,className:"px-6 py-8 text-center text-red-500",children:["Error: ",s]})}):0===e.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:8,className:"px-6 py-8 text-center text-muted-foreground",children:n?"No StableCoin purchase events found":"Click 'See Transactions' to load blockchain data"})}):e.map((e,t)=>(0,r.jsxs)("tr",{onClick:()=>M(e),className:"border-b border-border/40 hover:bg-accent/50 transition-colors cursor-pointer",children:[(0,r.jsx)("td",{className:"px-6 py-4 font-mono whitespace-nowrap",children:T(e.transactionHash)}),(0,r.jsx)("td",{className:"px-6 py-4 font-mono whitespace-nowrap",children:T(e.buyer)}),(0,r.jsx)("td",{className:"px-6 py-4 font-mono whitespace-nowrap",children:T(e.receiver)}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 rounded-full bg-green-500"}),(0,r.jsx)("span",{className:"uppercase text-sm",children:"completed"})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[(0,r.jsx)(x,{className:"size-4 text-muted-foreground"}),"#",e.blockNumber.toString()]})}),(0,r.jsxs)("td",{className:"px-6 py-4 font-mono whitespace-nowrap",children:[e.amountSC," SC"]}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)(g.C,{variant:"secondary",className:"uppercase ".concat("high"===I(e.amountSC)?"bg-primary/20 text-primary border-primary/40":"medium"===I(e.amountSC)?"bg-muted text-muted-foreground":"bg-green-500/20 text-green-500 border-green-500/40"),children:I(e.amountSC)})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)(p.z,{variant:"ghost",size:"icon",className:"size-8",onClick:t=>{t.stopPropagation(),window.open("https://sepolia.etherscan.io/tx/".concat(e.transactionHash),"_blank")},children:(0,r.jsx)(m,{className:"size-4"})})})]},e.transactionHash)),Array.from({length:10}).map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-border/40",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"}),(0,r.jsx)("td",{className:"px-6 py-4",children:"\xa0"})]},"empty-".concat(t)))]})]})})]})]}),(0,r.jsx)(v,{open:A,onOpenChange:E,children:(0,r.jsxs)(y,{className:"max-w-2xl bg-card border-border/40",children:[(0,r.jsxs)(w,{className:"relative",children:[(0,r.jsx)(k,{className:"text-3xl font-display mb-2",children:null==j?void 0:j.merchant}),(0,r.jsx)("p",{className:"text-muted-foreground font-mono",children:null==j?void 0:j.id}),(0,r.jsx)(p.z,{variant:"ghost",size:"icon",className:"absolute right-0 top-0",onClick:()=>E(!1),children:(0,r.jsx)(u.Z,{className:"size-4"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-8 py-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"STATUS"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 rounded-full ".concat((null==j?void 0:j.status)==="completed"?"bg-green-500":(null==j?void 0:j.status)==="pending"?"bg-yellow-500":"bg-red-500")}),(0,r.jsx)("span",{className:"uppercase text-lg",children:null==j?void 0:j.status})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"MISSIONS COMPLETED"}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:null==j?void 0:j.amount})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"LOCATION"}),(0,r.jsx)("div",{className:"text-lg",children:null==j?void 0:j.location})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"RISK LEVEL"}),(0,r.jsx)(g.C,{variant:"secondary",className:"uppercase text-sm px-3 py-1 ".concat((null==j?void 0:j.risk)==="high"?"bg-primary/20 text-primary border-primary/40":(null==j?void 0:j.risk)==="medium"?"bg-muted text-muted-foreground":"bg-red-500/20 text-red-500 border-red-500/40"),children:null==j?void 0:j.risk})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-border/40",children:[(0,r.jsx)(p.z,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Assign Mission"}),(0,r.jsx)(p.z,{variant:"outline",className:"border-border/40 bg-transparent",children:"View History"}),(0,r.jsx)(p.z,{variant:"outline",className:"border-border/40 bg-transparent",children:"Send Message"})]})]})})]})})}},19044:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57437);function a(e){let{children:t,header:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col relative w-full gap-1 min-h-full",children:[(0,r.jsxs)("div",{className:"flex items-center lg:items-baseline gap-2.5 md:gap-4 px-4 md:px-6 py-3 md:pb-4 lg:pt-7 ring-2 ring-pop sticky top-header-mobile lg:top-0 bg-background z-10",children:[(0,r.jsx)("div",{className:"max-lg:contents rounded bg-primary size-7 md:size-9 flex items-center justify-center my-auto",children:(0,r.jsx)(s.icon,{className:"ml-1 lg:ml-0 opacity-50 md:opacity-100 size-5"})}),(0,r.jsx)("h1",{className:"text-xl lg:text-4xl font-serif leading-[1] mb-1",children:s.title}),s.description&&(0,r.jsx)("span",{className:"ml-auto text-xs md:text-sm text-muted-foreground block",children:s.description})]}),(0,r.jsx)("div",{className:"min-h-full flex-1 flex flex-col gap-8 md:gap-14 px-3 lg:px-6 py-6 md:py-10 ring-2 ring-pop bg-background",children:t})]})}s(2265)},634:function(e,t,s){"use strict";var r=s(57437);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...e,children:[(0,r.jsx)("rect",{x:2.5,y:4.167,width:15,height:11.667,rx:1.667,stroke:"currentColor",strokeWidth:1.667}),(0,r.jsx)("path",{stroke:"currentColor",strokeWidth:1.667,d:"M2.5 7.5h15"}),(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.667,d:"M5.833 11.667h2.5"})]})},35974:function(e,t,s){"use strict";s.d(t,{C:function(){return d}});var r=s(57437);s(2265);var a=s(98482),n=s(90535),i=s(94508);let o=(0,n.j)("inline-flex items-center justify-center rounded border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-primary bg-primary/10 border-primary","outline-success":"border-success bg-success/10 text-success","outline-destructive":"border-destructive bg-destructive/10 text-destructive","outline-warning":"border-warning bg-warning/10 text-warning"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:s,asChild:n=!1,...d}=e,l=n?a.g7:"span";return(0,r.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(o({variant:s}),t),...d})}},62869:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(57437);s(2265);var a=s(98482),n=s(90535),i=s(94508);let o=(0,n.j)("inline-flex items-center justify-center uppercase gap-2 whitespace-nowrap rounded-md text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",xl:"h-12 rounded-md px-6 has-[>svg]:px-6 font-bold",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:n,asChild:d=!1,...l}=e,c=d?a.g7:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:s,size:n,className:t})),...l})}},95186:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var r=s(57437);s(2265);var a=s(94508);function n(e){let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},95087:function(e,t,s){"use strict";s.d(t,{n:function(){return u}});var r=s(2265),a=s(39502),n=s(14967),i=s(21899),o=s(55625);let d={address:"0x624FcD0a1F9B5820c950FefD48087531d38387f4"};var l=s(27100);class c{async fetchStableCoinPurchases(e){try{let t=await this.publicClient.getBlockNumber(),s=BigInt(6e6),r=BigInt(49999),n=[];for(let a=s;a<=t;a+=r){let s=a+r>t?t:a+r;console.log("Fetching blocks ".concat(a," to ").concat(s));let i=await this.publicClient.getLogs({address:d.address,event:(0,l.s)("event BoughtStableCoins(address indexed buyer, address indexed receiver, uint256 amountSC, uint256 amountBC)"),args:e?{receiver:e}:void 0,fromBlock:a,toBlock:s});n=[...n,...i]}return console.log("Total events found:",n.length),n.map(e=>{let t=e.data.slice(2),s="0x"+t.slice(0,64),r="0x"+t.slice(64);return console.log("SC hex:",s),console.log("BC hex:",r),{buyer:this.formatAddress(e.topics[1]),receiver:this.formatAddress(e.topics[2]),amountSC:(parseInt(s,16)/1e6).toString(),amountBC:(0,a.b)(BigInt(r),18),blockNumber:e.blockNumber,transactionHash:e.transactionHash}})}catch(e){throw console.error("Error fetching events:",e),console.log("Error message:",e instanceof Error?e.message:String(e)),e}}constructor(){this.formatAddress=e=>{let t=e.replace("0x","").slice(-40);return"0x".concat(t)},this.publicClient=(0,n.v)({chain:o.F,transport:(0,i.d)("https://ethereum-sepolia.publicnode.com")})}}let x=new c,m="stablepay_transactions";function u(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=localStorage.getItem(m);if(e)try{let{transactions:s,timestamp:r}=JSON.parse(e);if(!(Date.now()-r>3e5)&&s.length>0){let e=s.map(e=>({...e,blockNumber:BigInt(e.blockNumber)}));t(e),d(!0)}}catch(e){console.warn("Failed to parse cached transactions:",e)}},[]),{transactions:e,loading:s,error:n,hasFetched:o,fetchTransactions:async()=>{try{a(!0),i(null);let e=await x.fetchStableCoinPurchases("");t(e),d(!0);let s={transactions:e.map(e=>({...e,blockNumber:e.blockNumber.toString()})),timestamp:Date.now()};localStorage.setItem(m,JSON.stringify(s))}catch(e){console.error("Error fetching transactions:",e),i(e instanceof Error?e.message:"Failed to fetch transactions")}finally{a(!1)}},clearCache:()=>{localStorage.removeItem(m),t([]),d(!1)}}}},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(61994),a=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[452,967,534,971,117,744],function(){return e(e.s=71019)}),_N_E=e.O()}]);